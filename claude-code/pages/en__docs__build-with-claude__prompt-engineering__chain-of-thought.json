{
  "url": "https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/chain-of-thought",
  "title": "Let Claude think (chain of thought prompting) to increase performance - Anthropic",
  "text": "Anthropic\nhome page\nEnglish\nSearch...\nSearch...\nNavigation\nPrompt engineering\nLet Claude think (chain of thought prompting) to increase performance\nWelcome\nDeveloper Guide\nAPI Guide\nClaude Code\nModel Context Protocol (MCP)\nResources\nRelease Notes\nDocumentation\nDeveloper Discord\nSupport\nFirst steps\nIntro to Claude\nGet started\nModels & pricing\nModels overview\nChoosing a model\nMigrating to Claude 4\nModel deprecations\nPricing\nLearn about Claude\nBuilding with Claude\nFeatures overview\nContext windows\nGlossary\nCapabilities\nPrompt caching\nExtended thinking\nStreaming Messages\nBatch processing\nCitations\nMultilingual support\nToken counting\nEmbeddings\nVision\nPDF support\nFiles API\nGoogle Sheets add-on\nTools\nOverview\nHow to implement tool use\nToken-efficient tool use\nFine-grained tool streaming\nBash tool\nCode execution tool\nComputer use tool\nText editor tool\nWeb search tool\nModel Context Protocol (MCP)\nMCP connector\nRemote MCP servers\nUse cases\nOverview\nTicket routing\nCustomer support agent\nContent moderation\nLegal summarization\nPrompt engineering\nOverview\nClaude 4 best practices\nPrompt generator\nUse prompt templates\nPrompt improver\nBe clear and direct\nUse examples (multishot prompting)\nLet Claude think (CoT)\nUse XML tags\nGive Claude a role (system prompts)\nPrefill Claude's response\nChain complex prompts\nLong context tips\nExtended thinking tips\nTest & evaluate\nDefine success criteria\nDevelop test cases\nUsing the Evaluation Tool\nReducing latency\nStrengthen guardrails\nReduce hallucinations\nIncrease output consistency\nMitigate jailbreaks\nStreaming refusals\nReduce prompt leak\nKeep Claude in character\nLegal center\nAnthropic Privacy Policy\nSecurity and compliance\nWhile these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models\nhere\n.\nWhen faced with complex tasks like research, analysis, or problem-solving, giving Claude space to think can dramatically improve its performance. This technique, known as chain of thought (CoT) prompting, encourages Claude to break down problems step-by-step, leading to more accurate and nuanced outputs.\n​\nBefore implementing CoT\n​\nWhy let Claude think?\nAccuracy:\nStepping through problems reduces errors, especially in math, logic, analysis, or generally complex tasks.\nCoherence:\nStructured thinking leads to more cohesive, well-organized responses.\nDebugging:\nSeeing Claude’s thought process helps you pinpoint where prompts may be unclear.\n​\nWhy not let Claude think?\nIncreased output length may impact latency.\nNot all tasks require in-depth thinking. Use CoT judiciously to ensure the right balance of performance and latency.\nUse CoT for tasks that a human would need to think through, like complex math, multi-step analysis, writing complex documents, or decisions with many factors.\n​\nHow to prompt for thinking\nThe chain of thought techniques below are\nordered from least to most complex\n. Less complex methods take up less space in the context window, but are also generally less powerful.\nCoT tip\n: Always have Claude output its thinking. Without outputting its thought process, no thinking occurs!\nBasic prompt\n: Include “Think step-by-step” in your prompt.\nLacks guidance on\nhow\nto think (which is especially not ideal if a task is very specific to your app, use case, or organization)\nExample: Writing donor emails (basic CoT)\nRole\nContent\nUser\nDraft personalized emails to donors asking for contributions to this year’s Care for Kids program.\nProgram information:\n<program>{{PROGRAM_DETAILS}}\n</program>\nDonor information:\n<donor>{{DONOR_DETAILS}}\n</donor>\nThink step-by-step before you write the email.\nGuided prompt\n: Outline specific steps for Claude to follow in its thinking process.\nLacks structuring to make it easy to strip out and separate the answer from the thinking.\nExample: Writing donor emails (guided CoT)\nRole\nContent\nUser\nDraft personalized emails to donors asking for contributions to this year’s Care for Kids program.\nProgram information:\n<program>{{PROGRAM_DETAILS}}\n</program>\nDonor information:\n<donor>{{DONOR_DETAILS}}\n</donor>\nThink before you write the email. First, think through what messaging might appeal to this donor given their donation history and which campaigns they’ve supported in the past. Then, think through what aspects of the Care for Kids program would appeal to them, given their history. Finally, write the personalized donor email using your analysis.\nStructured prompt\n: Use XML tags like\n<thinking>\nand\n<answer>\nto separate reasoning from the final answer.\nExample: Writing donor emails (structured guided CoT)\nRole\nContent\nUser\nDraft personalized emails to donors asking for contributions to this year’s Care for Kids program.\nProgram information:\n<program>{{PROGRAM_DETAILS}}\n</program>\nDonor information:\n<donor>{{DONOR_DETAILS}}\n</donor>\nThink before you write the email in <thinking> tags. First, think through what messaging might appeal to this donor given their donation history and which campaigns they’ve supported in the past. Then, think through what aspects of the Care for Kids program would appeal to them, given their history. Finally, write the personalized donor email in <email> tags, using your analysis.\n​\nExamples\nExample: Financial analysis without thinking\nWithout step-by-step thinking, Claude gives a recommendation that seems reasonable but lacks depth. It doesn’t quantify the potential outcomes or consider historical market performance, which are crucial for making an informed decision.\nRole\nContent\nUser\nYou’re a financial advisor. A client wants to invest $10,000. They can choose between two options: A) A stock that historically returns 12% annually but is volatile, or B) A bond that guarantees 6% annually. The client needs the money in 5 years for a down payment on a house. Which option do you recommend?\nAssistant\nBased on the information provided, I would recommend option B, the bond that guarantees a 6% annual return. Here’s why:\n1. Certainty: The bond offers a guaranteed 6% annual return, which provides certainty in financial planning. This is crucial when the client has a specific financial goal (down payment) with a fixed timeline (5 years).\n2. Risk aversion: Since the client needs this money for an important life event (buying a house), they likely have a low risk tolerance. The volatility of the stock market could jeopardize their plans if there’s a downturn close to when they need the funds.\n3. Time horizon: With only 5 years, there’s less time to recover from potential stock market downturns. Longer investment horizons (10+ years) are generally better suited for weathering stock market volatility.\nWhile the stock’s historical 12% return is attractive, past performance doesn’t guarantee future results. The guaranteed 6% from the bond ensures the client will have the funds they need when it’s time to make the down payment.\nExample: Financial analysis with thinking\nWith step-by-step thinking, the advisor provides a much richer analysis. It calculates exact figures for both scenarios, considers historical market volatility, and deeply analyzes the client’s risk tolerance. This thorough reasoning leads to a more confident and justifiable recommendation.\nRole\nContent\nUser\nYou’re a financial advisor. A client wants to invest $10,000. They can choose between two options: A) A stock that historically returns 12% annually but is volatile, or B) A bond that guarantees 6% annually. The client needs the money in 5 years for a down payment on a house. Which option do you recommend? Think step-by-step.\nAssistant\nTo determine the best investment option for our client, I’ll consider several factors step-by-step:\n<thinking>\n1. Understand the client’s goal and timeline:\n- Goal: Down payment for a house\n- Timeline: 5 years\n- Implication: This is a short-term, high-priority financial goal. The client likely cannot afford significant risk or volatility.\n2. Analyze Option A (Stock):\n- Pro: Higher historical return (12% annually)\n- Con: Volatile (implying potential for significant gains or losses)\n- Calculate potential 5-year return:\n- Best case (12% annually): $10,000 * (1.12)^5 ≈ $17,623.42\n- Worst case (market crash): Could lose a substantial portion, e.g., 50% crash = $5,000\n3. Analyze Option B (Bond):\n- Pro: Guaranteed return (6% annually)\n- Con: Lower return compared to historical stock performance\n- Calculate 5-year return:\n- Guaranteed: $10,000 * (1.06)^5 ≈ $13,382.25\n4. Consider risk tolerance:\n- Goal is a house down payment (essential, not discretionary)\n- Short timeline (5 years) limits ability to recover from market downturns\n- Conclusion: Client likely has low risk tolerance\n5. Historical perspective:\n- Stock’s 12% is historical, not guaranteed\n- In 5-year periods, stock market can vary wildly:\n- 2003-2007 (pre-financial crisis): S&P 500 up ~82%\n- 2007-2011 (during crisis): S&P 500 down ~2%\n- Conclusion: Past performance doesn’t guarantee future results, especially short-term\n6. Final analysis:\n- Option A (Stock): Higher potential return but unacceptable risk of not meeting the down payment goal\n- Option B (Bond): Guaranteed to meet ~80% of best-case stock scenario, 100% certainty of having funds\n</thinking>\n<answer>\nI recommend Option B, the bond with a guaranteed 6% annual return. While the stock’s historical 12% return is tempting, the bond ensures you’ll have $13,382.25 in 5 years for your house down payment. Given the importance and short timeline of your goal, the stock’s volatility poses an unacceptable risk. The bond provides certainty, which is invaluable for such a crucial financial milestone.\n</answer>\nPrompt library\nGet inspired by a curated selection of prompts for various tasks and use cases.\nGitHub prompting tutorial\nAn example-filled tutorial that covers the prompt engineering concepts found in our docs.\nGoogle Sheets prompting tutorial\nA lighter weight version of our prompt engineering tutorial via an interactive spreadsheet.\nWas this page helpful?\nYes\nNo\nUse examples (multishot prompting)\nUse XML tags\nOn this page\nBefore implementing CoT\nWhy let Claude think?\nWhy not let Claude think?\nHow to prompt for thinking\nExamples",
  "links": [
    {
      "url": "https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/extended-thinking-tips",
      "text": "Extended thinking tips"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/define-success",
      "text": "Define success criteria"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/develop-tests",
      "text": "Develop test cases"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/eval-tool",
      "text": "Using the Evaluation Tool"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-latency",
      "text": "Reducing latency"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations",
      "text": "Reduce hallucinations"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/increase-consistency",
      "text": "Increase output consistency"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks",
      "text": "Mitigate jailbreaks"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals",
      "text": "Streaming refusals"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak",
      "text": "Reduce prompt leak"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/keep-claude-in-character",
      "text": "Keep Claude in character"
    },
    {
      "url": "https://docs.anthropic.com/en/resources/prompt-library/library",
      "text": "Prompt libraryGet inspired by a curated selection of prompts for various tasks and use cases."
    }
  ],
  "metadata": {
    "scraped_at": "2025-06-23T15:07:49.803658",
    "word_count": 1518,
    "link_count": 12,
    "content_length": 10124
  }
}