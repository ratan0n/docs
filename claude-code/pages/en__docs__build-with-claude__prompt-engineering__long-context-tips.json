{
  "url": "https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/long-context-tips",
  "title": "Long context prompting tips - Anthropic",
  "text": "Anthropic\nhome page\nEnglish\nSearch...\nSearch...\nNavigation\nPrompt engineering\nLong context prompting tips\nWelcome\nDeveloper Guide\nAPI Guide\nClaude Code\nModel Context Protocol (MCP)\nResources\nRelease Notes\nDocumentation\nDeveloper Discord\nSupport\nFirst steps\nIntro to Claude\nGet started\nModels & pricing\nModels overview\nChoosing a model\nMigrating to Claude 4\nModel deprecations\nPricing\nLearn about Claude\nBuilding with Claude\nFeatures overview\nContext windows\nGlossary\nCapabilities\nPrompt caching\nExtended thinking\nStreaming Messages\nBatch processing\nCitations\nMultilingual support\nToken counting\nEmbeddings\nVision\nPDF support\nFiles API\nGoogle Sheets add-on\nTools\nOverview\nHow to implement tool use\nToken-efficient tool use\nFine-grained tool streaming\nBash tool\nCode execution tool\nComputer use tool\nText editor tool\nWeb search tool\nModel Context Protocol (MCP)\nMCP connector\nRemote MCP servers\nUse cases\nOverview\nTicket routing\nCustomer support agent\nContent moderation\nLegal summarization\nPrompt engineering\nOverview\nClaude 4 best practices\nPrompt generator\nUse prompt templates\nPrompt improver\nBe clear and direct\nUse examples (multishot prompting)\nLet Claude think (CoT)\nUse XML tags\nGive Claude a role (system prompts)\nPrefill Claude's response\nChain complex prompts\nLong context tips\nExtended thinking tips\nTest & evaluate\nDefine success criteria\nDevelop test cases\nUsing the Evaluation Tool\nReducing latency\nStrengthen guardrails\nReduce hallucinations\nIncrease output consistency\nMitigate jailbreaks\nStreaming refusals\nReduce prompt leak\nKeep Claude in character\nLegal center\nAnthropic Privacy Policy\nSecurity and compliance\nWhile these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models\nhere\n.\nClaude’s extended context window (200K tokens for Claude 3 models) enables handling complex, data-rich tasks. This guide will help you leverage this power effectively.\n​\nEssential tips for long context prompts\nPut longform data at the top\n: Place your long documents and inputs (~20K+ tokens) near the top of your prompt, above your query, instructions, and examples. This can significantly improve Claude’s performance across all models.\nQueries at the end can improve response quality by up to 30% in tests, especially with complex, multi-document inputs.\nStructure document content and metadata with XML tags\n: When using multiple documents, wrap each document in\n<document>\ntags with\n<document_content>\nand\n<source>\n(and other metadata) subtags for clarity.\nExample multi-document structure\n<\ndocuments\n>\n<\ndocument\nindex\n=\n\"\n1\n\"\n>\n<\nsource\n>\nannual_report_2023.pdf\n</\nsource\n>\n<\ndocument_content\n>\n{{ANNUAL_REPORT}}\n</\ndocument_content\n>\n</\ndocument\n>\n<\ndocument\nindex\n=\n\"\n2\n\"\n>\n<\nsource\n>\ncompetitor_analysis_q2.xlsx\n</\nsource\n>\n<\ndocument_content\n>\n{{COMPETITOR_ANALYSIS}}\n</\ndocument_content\n>\n</\ndocument\n>\n</\ndocuments\n>\nAnalyze the annual report and competitor analysis. Identify strategic advantages and recommend Q3 focus areas.\nGround responses in quotes\n: For long document tasks, ask Claude to quote relevant parts of the documents first before carrying out its task. This helps Claude cut through the “noise” of the rest of the document’s contents.\nExample quote extraction\nYou are an AI physician's assistant. Your task is to help doctors diagnose possible patient illnesses.\n<\ndocuments\n>\n<\ndocument\nindex\n=\n\"\n1\n\"\n>\n<\nsource\n>\npatient_symptoms.txt\n</\nsource\n>\n<\ndocument_content\n>\n{{PATIENT_SYMPTOMS}}\n</\ndocument_content\n>\n</\ndocument\n>\n<\ndocument\nindex\n=\n\"\n2\n\"\n>\n<\nsource\n>\npatient_records.txt\n</\nsource\n>\n<\ndocument_content\n>\n{{PATIENT_RECORDS}}\n</\ndocument_content\n>\n</\ndocument\n>\n<\ndocument\nindex\n=\n\"\n3\n\"\n>\n<\nsource\n>\npatient01_appt_history.txt\n</\nsource\n>\n<\ndocument_content\n>\n{{PATIENT01_APPOINTMENT_HISTORY}}\n</\ndocument_content\n>\n</\ndocument\n>\n</\ndocuments\n>\nFind quotes from the patient records and appointment history that are relevant to diagnosing the patient's reported symptoms. Place these in\n<\nquotes\n>\ntags. Then, based on these quotes, list all information that would help the doctor diagnose the patient's symptoms. Place your diagnostic information in\n<\ninfo\n>\ntags.\nPrompt library\nGet inspired by a curated selection of prompts for various tasks and use cases.\nGitHub prompting tutorial\nAn example-filled tutorial that covers the prompt engineering concepts found in our docs.\nGoogle Sheets prompting tutorial\nA lighter weight version of our prompt engineering tutorial via an interactive spreadsheet.\nWas this page helpful?\nYes\nNo\nChain complex prompts\nExtended thinking tips\nOn this page\nEssential tips for long context prompts",
  "links": [
    {
      "url": "https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/extended-thinking-tips",
      "text": "Extended thinking tips"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/define-success",
      "text": "Define success criteria"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/develop-tests",
      "text": "Develop test cases"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/eval-tool",
      "text": "Using the Evaluation Tool"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-latency",
      "text": "Reducing latency"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-hallucinations",
      "text": "Reduce hallucinations"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/increase-consistency",
      "text": "Increase output consistency"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks",
      "text": "Mitigate jailbreaks"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals",
      "text": "Streaming refusals"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak",
      "text": "Reduce prompt leak"
    },
    {
      "url": "https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/keep-claude-in-character",
      "text": "Keep Claude in character"
    },
    {
      "url": "https://docs.anthropic.com/en/resources/prompt-library/library",
      "text": "Prompt libraryGet inspired by a curated selection of prompts for various tasks and use cases."
    }
  ],
  "metadata": {
    "scraped_at": "2025-06-23T15:07:50.124965",
    "word_count": 692,
    "link_count": 12,
    "content_length": 4625
  }
}