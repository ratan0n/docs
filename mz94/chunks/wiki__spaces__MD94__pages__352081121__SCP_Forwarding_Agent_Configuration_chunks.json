[
  {
    "chunk_id": 1,
    "text": "You open the SCP forwarding agent configuration dialog from a workflow configuration. To open the SCP forwarding agent configuration, click Configuration  New Configuration . Select Workflow from the Configurations dialog. When prompted to Select workflow type , select Batch . Click Add agent and select SCP from the Forwarding tab of the Agent Selection dialog. Part of the configuration may be done in the Filename Template service tab described in Workflow Template . Connection Tab Open The SCP forwarding agent configuration - Connection tab For information about the Connection tab, see the figure, The SCP Collection Agent Configuration - Connection Tab in SCP Collection Agent Configuration . Target Tab Open The SCP forwarding agent configuration - Target Tab The Target tab contains configuration settings related to the remote host, target directories, and target files. Setting Description Setting Description Input File Handling Input Type The agent can act on two input types. Depending on which one the agent is configured to work with, the behavior differs. The default input type is bytearray, that is the agent expects bytearrays. If nothing else is stated the documentation refers to input of bytearray. If the input type is MultiForwardingUDR , the behavior is different. For further information about the agent's behavior in MultiForwardingUDR input, see SCP Forwarding Agent MultiForwardingUDR Input . File Information Directory Enter the absolute pathname of the target directory on the remote host, where the forwarded files will be placed. The pathname may also be given relative to the home directory of the user's account. The files will be temporarily stored in the automatically created subdirectory DR_TMP_DIR in the target directory. When an End Batch message is received, the files are moved from the subdirectory to the target directory. Create Directory When enabled, this will create the directory, or the directory structure, of the path that you specify in Directory. Note! The directories are created when the workflow is executed. Compression Select the compression type of the destination files. Determines whether the agent will compress the output files as it writes them. No Compression - the agent will not compress the files. Gzip - the agent will compress the files using gzip. Note! No extra extension will be appended to the target filenames, even if compression is selected. Target File Handling Produce Empty Files If enabled, the agent will create empty output files for empty batches rather than omitting those batches. Handling of Already Existing Files Select the behavior of the agent when the file already exists, the alternatives are: Overwrite - The old file will be overwritten and a warning will be logged in the System Log. Add Suffix - If the file already exists the suffix \".1\" will be added. If this file also exists the suffix \".2\" will be tried instead and so on. Abort - This is the default selection and is the option used for upgraded configurations, that is workflows from an upgraded system. Temporary File Handling Use Temporary Directory If this option is selected, the agent will move the file to a temporary directory before moving it to the target directory. After the whole file has been transferred to the target directory, and the endBatch message has been received, and the temporary file is removed from the temporary directory. Use Temporary File If there is no write access to the target directory and, hence, a temporary directory cannot be created, the agent can move the file to a temporary file that is stored directly in the target directory. After the whole file has been transferred, and the endBatch message has been received, the temporary file will be renamed. The temporary filename is unique for every execution of the workflow. It consists of a workflow and agent ID, and a file number. Abort Handling Select how to handle the file in case of cancelBatch or rollback, either Delete Temporary File or Leave Temporary File. Note! When a workflow aborts, the file will not be removed until the next time the workflow is run. Advanced Tab Open The SCP forwarding agent configuration - Advanced tab The Advanced tabs contain configurations related to a more specific use of the SCP service, which might not be frequently utilized. Setting Description Setting Description Advanced Settings Port Enter the port number the SCP service will use on the remote host. Timeout (s) Enter the maximum time, in seconds, to wait for a response from the server. 0 (zero) means to wait forever. Accept New Host Keys If selected, the agent overwrites the existing host key when the host is represented with a new key. The default behavior is to abort when the key mismatches. Caution! Selecting this option causes a security risk since the agent will accept new keys regardless if they possibly belong to another machine. Enable Key Re-Exchange Used to enable and disable automatic re-exchange of session keys during ongoing connections. This can be useful if you have long lived sessions since you may experience connection problems for some servers if one of the sides initiates a key re-exchange during the session. Buffered Mode Select this check box if you want to enable buffered mode on the SCP client. Additional Hosts Additional Hosts List of additional host names or IP addresses that may be used to establish a connection. These hosts are tried, in sequence from top to bottom, if the agents fail to connect to the remote host set in the Connection tab. Use the Add , Edit , Remove , Up, and Down buttons to configure the host list. After Treatment Execute Select between the two options: Before Move : Execute the following command and its arguments prior to transfer. After Move : Execute the following command and its arguments on the local copy of the transferred UDR, after transfer. Command Enter a command or a script Arguments This field is optional. Each entered parameter value has to be separated from the preceding value with a space. The temporary filename is inserted as the second last parameter, and the final filename is inserted as the last parameter, automatically. This means that if, for instance, no parameter is given in the field, the arguments will be as follows: $1=<temporary_filename> $2=<final_filename> If three parameters are given in the Arguments field, the arguments are set as: $1=<parameter_value_#1> $2=<parameter_value_#2> $3=<parameter_value_#3> $4=<temporary_filename> $5=<final_filename> Backlog Tab The Backlog tab contains configurations related to backlog functionality. If the backlog is not enabled, the files will be moved directly to their final destination when an end batch message is received. If the backlog however is enabled, the files will first be moved to a directory called DR_POSTPONED_MOVE_DIR and then to their final destination. For further information about transaction behavior, see the section, Retrieves in SCP Forwarding Agent Transaction Behavior . When the backl og is initialized and when backlogged files have transferred a note is registered in the System Log. Open The SCP forwarding agent configuration - Backlog tab Setting Description Setting Description Enable Backlog When selected, this will enable the backlog functionality. When not selected the agent's behavior is similar to the standard SFTP forwarding agent. Directory Base directory in which the agent will create sub-directories to handle backlogged files. Absolute or relative path names can be used. Type Files is the maximum number of files allowed in the backlog folder. Bytes is the total sum (size) of the files that reside in the backlog folder. If a limit is exceeded the workflow will abort. Size Enter the maximum number of files or bytes that the backlog folder can contain. Processing Order Determine the order by which the backlogged data will be processed once the connection is reestablished, and select between First In First Out (FIFO) or Last In First Out (LIFO). Duplicate File Handling Specifies the behavior if a file with the same file name as the one being transferred is detected. The options are Abort or Overwrite and the action is taken both when a file is transferred to the target directory or to the backlog. Security Tab Open The SCP forwarding agent configuration - Security tab For information about the Security tab, see the description under SCP Collection Agent Configuration Caution! Due to an upgrade of the Maverick library for MediationZone version 8.1.5.0, the default handling of the advanced security has changed. Users should take note of the behaviour change for the Advanced Security Option for the SCP agents. The Advanced Security Option will be disabled by default. Users will have to enable it on their own accord from the Security Tab in the SCP agents configuration. With Advanced Security Option disabled, Maverick will manage the connection between the SCP agent and the server. Maverick will attempt to connect with the STRONG security level. Failing to do so, it will auto downgrade the security level to WEAK and attempt to connect, this behaviour will allow our agents to work well with backwards compatibility for servers with older instances of the Maverick library. Furthermore, having STRONG security level will result in a performance degradation. However, when a user manually enables the Advanced Security Option from the security tab, Maverick will instead assign the WEAK security level, which will not be as strict or resource intensive as the STRONG security level. For more information about security levels, you can refer to this page: https://www.jadaptive.com/managed-security-in-our-java-ssh-apis/",
    "title": "SCP Forwarding Agent Configuration - MediationZone Documentation 9.4 - InfoZone",
    "url": "https://infozone.atlassian.net/wiki/spaces/MD94/pages/352081121/SCP+Forwarding+Agent+Configuration",
    "word_count": 1551,
    "char_count": 9696
  }
]