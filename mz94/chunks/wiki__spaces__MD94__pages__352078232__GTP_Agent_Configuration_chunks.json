[
  {
    "chunk_id": 1,
    "text": "You open the GTP' agent configuration dialog from a workflow configuration. To open the GTP' agent configuration, click Configuration  New Configuration . Select Workflow from the Configurations dialog. When prompted to select workflow type, select Realtime . Click Add Agent and select GTP from the Collection tab of the Agent Selection dialog. Source Tab The Source tab includes connection type settings. Open The GTP' agent configuration dialog - Source tab Setting Description Setting Description Protocol Enter the protocol type that you want the agent to use: Either TCP or UDP. For further information see Limitations - GTP' Transported Over TCP in GTP' Agent MZSH Commands, Events and Limitations . Port Enter the port through which the agent should await incoming data packages. This port must be located on the host where the EC is running. Default value is 3386. Note! Two workflows that are running on the same EC, can subscribe to the same Port and GSNs, if they use different Protocol settings. Accept any This option is used for the dynamic discovery of new Charging Data Functions (CDF). You must use this option when there are multiple senders through different ports that are active on the same CDF and source IP address. A new sequence number handler will be created for each incoming source point (IP:port). When this option is selected, the GTP' agent will not send the following: NODE_ALIVE_REQUEST REDIRECTION_REQUEST Note! If the list below this option is not empty you will receive an error message. GSN IP Address The IP addresses or hostnames of the GSN nodes that provide the data. Server Port Enter the server port number for each node. The agent will detect GGSN source port changes via the Node Alive Request or Echo Request messages. If a change is detected, it is is registered in the System Log. The agent's internal configuration is updated. Note! If more than one source is defined on one IP address, port changes are not supported and only connections from the specified ports are accepted from that host. Miscellaneous Tab Open The GTP' agent configuration dialog - Miscellaneous tab The Miscellaneous tab includes collected format and storage settings of the data that is collected by the agent. Setting Description Setting Description Format Must match the Data Record Format in Data Record Packet IE . This is applicable if the Packet Transfer Command is either Send Data Record Packet or Send possibly duplicated Data Record Packet . Perform Format Version Check When checked, the Data Record Format Version in Data Record Packet IE must be identical to the setting in Format Version . Format Version Must match the Data Record Format Version in Data Record Packet IE . This is applicable if the Packet Transfer Command is Send Data Record Packet or Send possibly duplicated Data Record Packet . Directory Enter either the relative pathname to the home directory of the user account, or an absolute pathname of the target directory in the file system on the local host, where the intermediate data for the collection is stored. The intermediate data includes: Files that keep track of sequence numbers and restart values A directory called duplicates , where duplicates are saved. Note! This directory must be attended to manually. Note! When using several ECs, ensure that the file system that contains the GTP' information is mounted on all ECs. Acknowledgement from APL Check to enable an acknowledgement from the APL module that follows the GTP' agent. This way the GTP' agent will expect a feedback route from the APL module, as well. No GTP packets will be acknowledged before all the data that is emitted into the workflow is routed back to the collector. Controlling acknowledgment from APL enables you to make sure that data is transmitted completely. Clear this check box if you want the agent to acknowledge incoming packets before any data is routed into the workflow. No Private Extension Check to remove the private extension from any of the agent's output messages. Use seq num of Cancel/Release req Check to change the type of the sequence numbers that are populated in a Data Record Transfer Response to either Release Data Record Packet or Cancel Data Record Packet , in the Requests Responded field. Otherwise, the agent applies the sequence number of the released, or cancelled, Data Record Packet . Advanced Tab Open The GTP' agent configuration dialog - Advanced tab Setting Description Setting Description Max Wait for a Response (sec) The maximal period while the GTP' agent should expect a Node Alive Response message. If both this value and the Max Number of Request Attempts value, are exceeded, a message appears on the System Log. For example: If Max Wait for a Response is 20 and Max Number of Request Attempts is 5, the warning message will be logged after 100 seconds. The value also indicates the maximal period during which the GTP' agent awaits a Redirection Response . This period begins right after the agent releases a Redirection Request to the agents that it is configured to receive data from. Max Number of Request Attempts Enter the maximum number of attempts to perform in order to receive a Node Alive Response and Redirection Response . Max Outstanding Numbers Enter the maximum number of packages that you want kept in memory for sequence number checking. Max Drift Between Two Numbers Enter the maximum numbers that can be skipped between two sequence numbers. Clear Checking Check to avoid saving the last sequence number when the workflow has been stopped. Clear to have the agent save the sequence number of the last collected package when the workflow is stopped. This way, as soon as the workflow is restarted, a package with the subsequent number is expected and the workflow continues processing from the where it had stopped. Agent Handles Duplicates Select this option to store duplicates in a persistent data directory that you specify on the Miscellaneous tab. The packet will remain in the directory until the agent receives a request to release or to cancel it. Route Duplicates to Select this option to route duplicates to a link that you select from the drop-down list. Alternate Node Enter the hostname or IP-address of a host that runs an alternate Charging Gateway device as a backup. If you enter an IP address, the GTP' agent will include it in the redirection request that it sends to the GSN. Note! The GTP' agent does not backup any of the data that it manages. Make sure that the GSN node takes care of backup. Decoder Tab Open The GTP' agent configuration dialog - Decoder tab Setting Description Setting Description Decoder Click Browse and select a pre-defined decoder. These decoders are defined in the Ultra Format Editor, and are named according to the following syntax: <decoder> (<module>) The option MZ Format Tagged UDRs indicates that the expected UDRs are stored in the MediationZone specific format. Select this option to make the Tagged UDR Type list accessible for configuration. Tagged UDR Type Click Browse and select a pre-defined Tagged UDR Type. These UDR types are stored in the Ultra and Code servers. The naming format is: <internal>(<module>) If the decoder is intended to reprocess UDRs of an internal format, the Decoder MZ format tagged UDRs has to be selected enabling this list. Once enabled, the internal format must be selected. Full Decode Select this check box to enable full decoding of the UDR, before it enters the workflow. This, in turn, might reduce performance rate. Leave this check box empty to minimize decoding work in the agent. By leaving this check-box empty, you postpone decoding, and discovery of corrupt data to a later phase in the workflow.",
    "title": "GTP' Agent Configuration - MediationZone Documentation 9.4 - InfoZone",
    "url": "https://infozone.atlassian.net/wiki/spaces/MD94/pages/352078232/GTP+Agent+Configuration",
    "word_count": 1284,
    "char_count": 7707
  }
]