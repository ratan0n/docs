{
  "id": "wiki__spaces__MD94__pages__352108414",
  "title": "Aggregation Agent Configuration - Real-Time - MediationZone Documentation 9.4 - InfoZone",
  "url": "https://infozone.atlassian.net/wiki/spaces/MD94/pages/352108414",
  "categories": [
    "space:MD94"
  ],
  "text": "The real-time Aggregation agent's configuration dialog includes the following tabs: 1 General 2 APL Code 3 Storage General The General tab enables you to assign an Aggregation profile to the agent and to define error handling. With the Error Handling settings, you can decide what you want to do if no timeout has been set in the code or if there are unmatched UDRs. Open The Aggregation agent configuration dialog - General tab Setting Description Setting Description Profile Click Browse... and select an Aggregation profile. All the workflows in the same workflow configuration can use different Aggregation profiles. For this to work, the profile has to be set to Default in the Field settings tab in the Workflow Properties dialog. After this, each workflow in the Workflow Table can be assigned with the correct profile. Force Read Only Select this check box to only use the aggregation storage for reading aggregation session data. If you enable the read only mode, timeout handling is also disabled. When using file storage and sharing an Aggregation profile across several workflow configurations, the read and write lock mechanisms that are applied to the stored sessions must be considered: There can only be one write lock at a time in a profile. This means that all but one Aggregation agent must have the Force Read Only setting enabled. If all of the Aggregation agents are configured with Force Read Only , any number of read locks can be granted in the profile. If one write lock or more is set, a read lock cannot be granted. If Timeout is Missing Select the action to take if timeout for sessions is not set in the APL code using sessionTimeout . The setting is evaluated after each consume or timeout function block has been called (assuming the session has not been removed). The available options are: Ignore - Do nothing. This may leave sessions forever in the system if the closing UDR does not arrive. Abort - Abort the agent execution. This option is used if timeout must be set at all times. Hence, a missing timeout is considered being a configuration error. Use Default Timeout - Allow the session timeout to be set here instead of within the code. If enabled, a field becomes available. In this field, enter the timeout, in seconds. If No UDR Match is Found Select the action that the agent should take when a UDR that arrives does not match any session, and Create Session on Failure is disabled: Ignore - Discard the UDR. Log Event - Discard the UDR and generate a message in the System Log. Route - Send the UDR on the route selected from the on list. This is a list of output routes through which the UDR can be sent. The list is only activated if Route is selected. APL Code Storage The Storage tab contains settings that are specific for the selected storage in the Aggregation profile. Different settings are available in batch and real-time workflows. File Storage When using file storage for sessions in a batch workflow, the Storage tab contains a setting to control how often the timeout block should be executed. In this tab, it is also specified when the changes to the aggregation data is written to file. Open The Aggregation agent configuration dialog - Storage tab for File Storage Setting Description Setting Description Session Timeout Interval (seconds) Determines how often, in seconds, the timeout block is invoked for outdated sessions. Storage Commit Interval (seconds) Determines how often, in seconds, the in-memory data is saved to files on disk. Storage Commit Interval (#Processing Calls) Determines the number of Processing Calls before the in memory data is saved to files on disk. A 'Processing Call' is an execution of any of the blocks consume , command or timeout . If both this option and the Storage Commit Interval (seconds) are configured, commits are made when any of them are fulfilled. Note! If Storage Commit Interval (seconds) and/or Storage Commit Interval (#Processing Calls) are configured, data left in memory when the workflow stops will be saved to file. If Storage Commit Interval (seconds) and Storage Commit Interval (#Processing Calls) are not configured, none of the sessions in-memory are stored on disk. The session count displayed in the Aggregation Inspector will not include these sessions. When the Max Cached Sessions in the Aggregation profile is exceeded, and Storage Commit Interval (seconds) and Storage Commit Interval (#Processing Calls) are not configured, the agent deletes the oldest session. This is done in order to allocate space for the new session while still staying within the limit. Couchbase Storage Open The Aggregation agent configuration dialog - Storage tab for Couchbase Setting Description Setting Description If Error Occurs in Storage Select the action that the agent should take when an error occurs in the storage: Ignore - Discard the UDR. Log Event - Discard the UDR and generate a message in the System Log. Route - Send the UDR on the route selected from the on list. This is a list of output routes on which the UDR can be sent. The list is only activated only if Route is selected. Disable Timeout Select this check box to disable the timeout handling. Redis Storage Open The Aggregation agent configuration dialog - Storage tab for Redis Setting Description Setting Description If Error Occurs in Storage Select the action that the agent should take when an error occurs in the storage: Ignore - Discard the UDR. Log Event - Discard the UDR and generate a message in the System Log. Route - Send the UDR on the route selected from the on list. This is a list of output routes on which the UDR can be sent. The list is only activated if Route is selected. Disable Timeout Select this check box to disable the timeout handling.",
  "chunks": [
    {
      "chunk_id": 1,
      "text": "The real-time Aggregation agent's configuration dialog includes the following tabs: 1 General 2 APL Code 3 Storage General The General tab enables you to assign an Aggregation profile to the agent and to define error handling. With the Error Handling settings, you can decide what you want to do if no timeout has been set in the code or if there are unmatched UDRs. Open The Aggregation agent configuration dialog - General tab Setting Description Setting Description Profile Click Browse... and select an Aggregation profile. All the workflows in the same workflow configuration can use different Aggregation profiles. For this to work, the profile has to be set to Default in the Field settings tab in the Workflow Properties dialog. After this, each workflow in the Workflow Table can be assigned with the correct profile. Force Read Only Select this check box to only use the aggregation storage for reading aggregation session data. If you enable the read only mode, timeout handling is also disabled. When using file storage and sharing an Aggregation profile across several workflow configurations, the read and write lock mechanisms that are applied to the stored sessions must be considered: There can only be one write lock at a time in a profile. This means that all but one Aggregation agent must have the Force Read Only setting enabled. If all of the Aggregation agents are configured with Force Read Only , any number of read locks can be granted in the profile. If one write lock or more is set, a read lock cannot be granted. If Timeout is Missing Select the action to take if timeout for sessions is not set in the APL code using sessionTimeout . The setting is evaluated after each consume or timeout function block has been called (assuming the session has not been removed). The available options are: Ignore - Do nothing. This may leave sessions forever in the system if the closing UDR does not arrive. Abort - Abort the agent execution. This option is used if timeout must be set at all times. Hence, a missing timeout is considered being a configuration error. Use Default Timeout - Allow the session timeout to be set here instead of within the code. If enabled, a field becomes available. In this field, enter the timeout, in seconds. If No UDR Match is Found Select the action that the agent should take when a UDR that arrives does not match any session, and Create Session on Failure is disabled: Ignore - Discard the UDR. Log Event - Discard the UDR and generate a message in the System Log. Route - Send the UDR on the route selected from the on list. This is a list of output routes through which the UDR can be sent. The list is only activated if Route is selected. APL Code Storage The Storage tab contains settings that are specific for the selected storage in the Aggregation profile. Different settings are available in batch and real-time workflows. File Storage When using file storage for sessions in a batch workflow, the Storage tab contains a setting to control how often the timeout block should be executed. In this tab, it is also specified when the changes to the aggregation data is written to file. Open The Aggregation agent configuration dialog - Storage tab for File Storage Setting Description Setting Description Session Timeout Interval (seconds) Determines how often, in seconds, the timeout block is invoked for outdated sessions. Storage Commit Interval (seconds) Determines how often, in seconds, the in-memory data is saved to files on disk. Storage Commit Interval (#Processing Calls) Determines the number of Processing Calls before the in memory data is saved to files on disk. A 'Processing Call' is an execution of any of the blocks consume , command or timeout . If both this option and the Storage Commit Interval (seconds) are configured, commits are made when any of them are fulfilled. Note! If Storage Commit Interval (seconds) and/or Storage Commit Interval (#Processing Calls) are configured, data left in memory when the workflow stops will be saved to file. If Storage Commit Interval (seconds) and Storage Commit Interval (#Processing Calls) are not configured, none of the sessions in-memory are stored on disk. The session count displayed in the Aggregation Inspector will not include these sessions. When the Max Cached Sessions in the Aggregation profile is exceeded, and Storage Commit Interval (seconds) and Storage Commit Interval (#Processing Calls) are not configured, the agent deletes the oldest session. This is done in order to allocate space for the new session while still staying within the limit. Couchbase Storage Open The Aggregation agent configuration dialog - Storage tab for Couchbase Setting Description Setting Description If Error Occurs in Storage Select the action that the agent should take when an error occurs in the storage: Ignore - Discard the UDR. Log Event - Discard the UDR and generate a message in the System Log. Route - Send the UDR on the route selected from the on list. This is a list of output routes on which the UDR can be sent. The list is only activated only if Route is selected. Disable Timeout Select this check box to disable the timeout handling. Redis Storage Open The Aggregation agent configuration dialog - Storage tab for Redis Setting Description Setting Description If Error Occurs in Storage Select the action that the agent should take when an error occurs in the storage: Ignore - Discard the UDR. Log Event - Discard the UDR and generate a message in the System Log. Route - Send the UDR on the route selected from the on list. This is a list of output routes on which the UDR can be sent. The list is only activated if Route is selected. Disable Timeout Select this check box to disable the timeout handling.",
      "title": "Aggregation Agent Configuration - Real-Time - MediationZone Documentation 9.4 - InfoZone",
      "url": "https://infozone.atlassian.net/wiki/spaces/MD94/pages/352108414",
      "word_count": 977,
      "char_count": 5752
    }
  ],
  "metadata": {
    "scraped_at": "2025-06-24T03:45:50.770981",
    "word_count": 977,
    "char_count": 5752,
    "chunk_count": 1
  }
}