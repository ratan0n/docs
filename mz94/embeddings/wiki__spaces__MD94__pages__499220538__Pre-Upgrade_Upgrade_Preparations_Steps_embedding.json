{
  "id": "wiki__spaces__MD94__pages__499220538__Pre-Upgrade_Upgrade_Preparations_Steps",
  "title": "Pre-Upgrade: Upgrade Preparations Steps - MediationZone Documentation 9.4 - InfoZone",
  "url": "https://infozone.atlassian.net/wiki/spaces/MD94/pages/499220538/Pre-Upgrade+Upgrade+Preparations+Steps",
  "categories": [
    "space:MD94"
  ],
  "text": "The preparation steps do not impact the running system and can be completed in advance. Before Starting the Upgrade, Ensure the Following Preparations Are Made: Create a Backup This step is an additional safety measure to ensure that if both the upgrade and rollback fail, you can restore the system using the backup. Backup of the Database (MZDB): Create a backup of your MZDB and save it in a designated backup directory. For detailed instructions on performing an online backup, see to Backup and Disaster Recovery Procedures . Backup of MZ_HOME (Essential for Rollback): To create a backup of your MZ_HOME, use the following command: cd $MZ_HOME/../ tar -zcvf mzhome_backup.tgz <MZ_HOME directory> mv mzhome_backup.tgz <backup directory> Backup of MediationZone configurations: In desktop, navigate to System Export and export a ZIP file containing all configurations, or use following command. mzsh mzadmin/<password> systemexport <directory>/<backup filename>.zip Verify System Requirements Ensure that the operating system and database meet the system requirements . If an upgrade is required for the OS or database , complete it before upgrading MediationZone. This must be done for all machines hosting the system. Set Environment Variables Variable Description MZ_HOME Specifies where the software is installed. JAVA_HOME Specifies where the JDK is installed. PATH Must include $JAVA_HOME/bin:$MZ_HOME/bin . Example - Setting environment variables export MZ_HOME=/opt/mz export JAVA_HOME=/opt/jdk/jdk-17.0.2 export PATH=$JAVA_HOME/bin:$MZ_HOME/bin:$PATH Prepare the Staging Directory Create a dedicated directory for unpacking this and future releases (referred to as the staging directory). Ensure it is separate from the MZ_HOME directory. Move and Extract the Installer Move the installer *.tgz file from your release delivery into the staging directory . Navigate to the staging directory and unpack the file using: tar xvzf <filename>.tgz After unpacking, a new directory is created within the staging directory , containing the software to be installed. In these instructions, this directory is referred to as the release content directory . Copy The MediationZone License Copy the MZ license file into the release content directory . cp mz.license <release content directory> Prepare the Installation Navigate to the release content directory and prepare the install.xml file by running the following command: cd <release content directory> ./setup.sh prepare The *.mzp packages have now been extracted, and the install.xml has been extracted into the release content directory . The install.xml file will automatically be populated with information from your existing installation. Copy DTK Extensions (If Applicable) Place your DTK extensions (if any) in the following directory: cp <DTK extension>.mzp <release content directory>/release/packages Update Properties in install.xml Property Description install.admin.password This property must be set with your current administrator password. If you are using Oracle as platform database install.ora.owner This property must be set with the current Oracle database owner's username. install.ora.password This property must be set with the current password of your Oracle database owner. If you are using PostgreSQL as platform database install.pg.owner This property must be set with the current Postgres database owner's username. install.pg.password This property must be set with the current password of your Postgres database owner. Remove Obsolete JVM Arguments If the current installation includes obsolete JVM arguments that are no longer supported in Java 17, they should be removed, and the JVM arguments section should be updated with compatible options. Refer to the Java 17 documentation for details on  Obsolete  and  Removed  Java options since Java 8. For JVM arguments configuration, see Managing Picos with Topo . Web Services Workflow Packages If your system contains workflow packages with workflows using Web Services, follow the steps outlined in Workflow Packages Containing Web Services before proceeding with the upgrade. PCC Extensions PCC Extensions (the *.mzp file(s) containing your custom data model(s)) must be recompiled according to the instructions provided on this page. High Availability If you have a High Availability setup, you are advised to deactivate the failover functionality in the HA cluster daemon. You must ensure that no HA activities can impede the upgrade procedure.",
  "chunks": [
    {
      "chunk_id": 1,
      "text": "The preparation steps do not impact the running system and can be completed in advance. Before Starting the Upgrade, Ensure the Following Preparations Are Made: Create a Backup This step is an additional safety measure to ensure that if both the upgrade and rollback fail, you can restore the system using the backup. Backup of the Database (MZDB): Create a backup of your MZDB and save it in a designated backup directory. For detailed instructions on performing an online backup, see to Backup and Disaster Recovery Procedures . Backup of MZ_HOME (Essential for Rollback): To create a backup of your MZ_HOME, use the following command: cd $MZ_HOME/../ tar -zcvf mzhome_backup.tgz <MZ_HOME directory> mv mzhome_backup.tgz <backup directory> Backup of MediationZone configurations: In desktop, navigate to System Export and export a ZIP file containing all configurations, or use following command. mzsh mzadmin/<password> systemexport <directory>/<backup filename>.zip Verify System Requirements Ensure that the operating system and database meet the system requirements . If an upgrade is required for the OS or database , complete it before upgrading MediationZone. This must be done for all machines hosting the system. Set Environment Variables Variable Description MZ_HOME Specifies where the software is installed. JAVA_HOME Specifies where the JDK is installed. PATH Must include $JAVA_HOME/bin:$MZ_HOME/bin . Example - Setting environment variables export MZ_HOME=/opt/mz export JAVA_HOME=/opt/jdk/jdk-17.0.2 export PATH=$JAVA_HOME/bin:$MZ_HOME/bin:$PATH Prepare the Staging Directory Create a dedicated directory for unpacking this and future releases (referred to as the staging directory). Ensure it is separate from the MZ_HOME directory. Move and Extract the Installer Move the installer *.tgz file from your release delivery into the staging directory . Navigate to the staging directory and unpack the file using: tar xvzf <filename>.tgz After unpacking, a new directory is created within the staging directory , containing the software to be installed. In these instructions, this directory is referred to as the release content directory . Copy The MediationZone License Copy the MZ license file into the release content directory . cp mz.license <release content directory> Prepare the Installation Navigate to the release content directory and prepare the install.xml file by running the following command: cd <release content directory> ./setup.sh prepare The *.mzp packages have now been extracted, and the install.xml has been extracted into the release content directory . The install.xml file will automatically be populated with information from your existing installation. Copy DTK Extensions (If Applicable) Place your DTK extensions (if any) in the following directory: cp <DTK extension>.mzp <release content directory>/release/packages Update Properties in install.xml Property Description install.admin.password This property must be set with your current administrator password. If you are using Oracle as platform database install.ora.owner This property must be set with the current Oracle database owner's username. install.ora.password This property must be set with the current password of your Oracle database owner. If you are using PostgreSQL as platform database install.pg.owner This property must be set with the current Postgres database owner's username. install.pg.password This property must be set with the current password of your Postgres database owner. Remove Obsolete JVM Arguments If the current installation includes obsolete JVM arguments that are no longer supported in Java 17, they should be removed, and the JVM arguments section should be updated with compatible options. Refer to the Java 17 documentation for details on  Obsolete  and  Removed  Java options since Java 8. For JVM arguments configuration, see Managing Picos with Topo . Web Services Workflow Packages If your system contains workflow packages with workflows using Web Services, follow the steps outlined in Workflow Packages Containing Web Services before proceeding with the upgrade. PCC Extensions PCC Extensions (the *.mzp file(s) containing your custom data model(s)) must be recompiled according to the instructions provided on this page. High Availability If you have a High Availability setup, you are advised to deactivate the failover functionality in the HA cluster daemon. You must ensure that no HA activities can impede the upgrade procedure.",
      "title": "Pre-Upgrade: Upgrade Preparations Steps - MediationZone Documentation 9.4 - InfoZone",
      "url": "https://infozone.atlassian.net/wiki/spaces/MD94/pages/499220538/Pre-Upgrade+Upgrade+Preparations+Steps",
      "word_count": 647,
      "char_count": 4485
    }
  ],
  "metadata": {
    "scraped_at": "2025-06-24T03:42:50.498476",
    "word_count": 647,
    "char_count": 4485,
    "chunk_count": 1
  }
}