{
  "id": "wiki__spaces__MD93__pages__204609065",
  "title": "SAP CC Online Agent Configuration - MediationZone Documentation 9.3 - InfoZone",
  "url": "https://infozone.atlassian.net/wiki/spaces/MD93/pages/204609065",
  "categories": [
    "space:MD93"
  ],
  "text": "You open the SAP CC Online agent configuration dialog from a workflow configuration. To open the SAP CC Online agent configuration, click Build  New Configuration . Select Workflow from the Configurations dialog. When prompted to Select workflow type , select Realtime . Click Add agent and select SAP CC Online from the Agent Selection dialog. Connection Tab The Connection tab contains configuration data that is required to connect to a re mo te s erve r. Open SAP CC Online agent configuration dialog - Connection tab Setting Description Setting Description Hosts In this section, add IP address/hostname and external charging port of at least one SAP Convergent Charging Core server Dispatcher Instance. The SAP CC Online agent will try to connect to the listed hosts until a connection is successfully established with one of them. Note! When Hosts is set to Default or Per Workflow in Workflow Properties, you can specify multiple hosts in the workflow table. Each host must be separated by a semi-colon. For example: host1:2000;host2:2000 . Note! If you upgrade, or import a configuration, from a version previous to MedationZone 7.2, the Host and Port settings are no longer included in the workflow table for your workflow. Instead, you must manually configure the Hosts setting in the Workflow Table tab in the Workflow Properties dialog. Connection Settings Enable Authentication Select this check box to enable charging API authentication. Note! Charging API Authentication is only available for SAP CC version 4.1 SP2 and later. User Name SAP CC user id Password The password for the SAP CC user Timeout The timeout (in milliseconds) to apply for each charging request. This value corresponds to the maximum time that SAP CC can take to execute one charging request. Enable Secured Connection Select to use TLS encrypted communication with Hosts . For more information about setting up Secured Connection, refer to SAP CC Secured Connection . Keystore Path The path to the keystore on an Execution Container host. The path must be the same for all hosts. Note! The keystore format to be used by this particular agent is PKCS12 only. Keystore Password The password of the keystore. Advanced Setting s T ab The Advanced Settings tab contains configurations rel ated to charging request behavior. Open SAP CC Online agent configuration dialog - Advanced tab Setting Description Setting Description Default charging properties Transaction Set to Return This parameter controls the content of the charging answer. Select No Transaction if no details shall be returned in the charging answer. Only the status (success or failure) and the price will be returned. Select Master Transaction if the details of the price computation shall be returned in the charging answer. It includes user defined notification that may be raised by the price plan. This applies only to the master transaction. Select All Transactions if the details of the price computation shall be returned in the charging answer. It includes user defined notifications that may be raised by the price plan. This applies only to the master and dependents transactions. Select All Transaction and Recurring if the details of the price computation shall be returned in the charging answer. It includes user defined notifications that may be raised by the price plan. This applies master transactions and dependents, but also one-shot- and recurring transactions, which may be triggered by the usage event. In Session Cleanup Transaction Set to Return This parameter controls the content of the charging answer in the case a session cleanup occurred during a charging request. The same value as for Transaction Set to Return applies here. Session Time To Live Defines the default session 'time to live' (in seconds) for the session charging request. This is the time period during which a session is considered active if no updates occurred. Default Session Resolution This parameter controls the default session termination to apply when a session has reached its 'time to live'. The session (in fact, the last reservation) could be either: Cancelled - Cancel Confirmed - Confirm Reservation Renewal Listener Listen For Reservation Renewal Events Select to listen for Reservation Renewal Events from SAP Convergent Charging. Listener Identifier Identifies the listener that the client binds to in order to receive Reservation Renewal Events. The Listener Identifier registered by an agent must be in the range of 1 to 127. If several agents use the same Listener Identifier the first agent to register will receive the events. If the first agent to register the Listener Identifier becomes unavailable, the second agent to register will receive the events. Spending Status Monitoring Listen For Spending Status Reports Select to listen for Spending Status Reports from SAP Convergent Charging. Listener Identifier Identifies the listener that the client binds to in order to receive Spending Status Reports. The Listener Identifier registered by an agent must be in the range of 1 to 127. If several agents use the same Listener Identifier the first agent to register will receive the events. If the first agent to register the Listener Identifier becomes unavailable, the second agent to register will receive the events. Default Monitoring Listener Identifier This is the default ID that will be used for the monitoring session. Default Monitoring Session TTL This is the default Time To Live value (in seconds) that will be used. Debugging Enable Debug Events Select this check box to enable debug mode. Useful for testing purposes. Response Data Convert Bigdecimal Response to String Select this check box to allow conversion of the BigDecimal data type from the SAP Convergent Charging response into string. By default, the check box is empty. Note! In terms of backwards compatibility, enabling this option prevents any compatibility issues with workflows that support the configurations from before the BigDecimal data type was introduced in version 8.0.5.0. Flow Control Tab The Flow Control tab contains configurations required to control the request flow with Con verg ent Charging Core Server. Canceled - Cancel Confirmed - Confirm Open SAP CC Online agent configuration dialog - Flow Control tab Setting Description Setting Description Enable Flow Control This parameter determines if the flow controller is activated or not on the SAP CC Stateful Service Client. Queue Properties Queue Size This parameter controls the maximum number of waiting requests to be executed by the SAP Convergent Charging core server. This is mandatory to make sure that the core server is not flooded with too many requests. Requests that cannot fit in the queue wait until the size reaches the Re-accept Request Threshold parameter explained below. The value of this parameter depends on: The total number of incoming requests that can be handled by the available SAP CC Dispatchers (refer to the description of the SAP CC STATEFUL_SERVICE_QUEUE_SIZE parameter) The number of SAP CC Stateful Service Clients connected within the different workflows. Note! Take into account that additional SAP CC Stateful Service Clients may exist in the overall landscape. Example - Setting the queue size Consider the following scenario: A SAP CC landscape can handle 30000 requests using 3 Dispatchers, each configured with a queue size set to 10000. 5 connected SAP CC Stateful Service Clients The maximum queue size for all the flow controllers should be set to a value that is lower than 30000 requests (e.g. 25000), and thus, the Queue Size for each SAP CC agent can be set to 5000 requests. In addition, the Re-accept Request Threshold value can be set to 4995. Re-accept Request Threshold This parameter defines the threshold of the queue below which waiting requests are processed again. This parameter is only relevant when some requests are waiting because the queue has reached its size. Note! It is strongly recommended to activate flow control in a production system. The SAP CC Online agent relies on the Asynchronous CC client and if no control is enabled, the agent will send as many requests as possible to the SAP Convergent Charging core server, which could lead to two unexpected behaviors: Increased latency of charging requests. An unstable server that will not be able to answer the requests. Monitoring Event Tab The Monitoring Event tab contains configurations for sending an event related to latency, for example, the number of successfully processed UDRs, erroneous UDRs, and so on. The monitoring information is sent through a CC Monitoring Event. For further information about how to set up the CC Monitoring Event, see Event Notifications . It is recommended that you do not enable these monitoring features in a p roduc tion landscape. Open SAP CC Online Agent Configuration - Monitoring Event Tab Setting Description Setting Description Enable Global Event Select to send a CC Monitoring Event when the Workflow is stopped. Enable Spot Event Select to send a CC Monitoring Event with a configured frequency, see Spot Frequency below. Spot Frequency Configure the frequency (in seconds) for how often a CC Monitoring Event shall be sent. Default frequency is 1000 second.",
  "chunks": [
    {
      "chunk_id": 1,
      "text": "You open the SAP CC Online agent configuration dialog from a workflow configuration. To open the SAP CC Online agent configuration, click Build  New Configuration . Select Workflow from the Configurations dialog. When prompted to Select workflow type , select Realtime . Click Add agent and select SAP CC Online from the Agent Selection dialog. Connection Tab The Connection tab contains configuration data that is required to connect to a re mo te s erve r. Open SAP CC Online agent configuration dialog - Connection tab Setting Description Setting Description Hosts In this section, add IP address/hostname and external charging port of at least one SAP Convergent Charging Core server Dispatcher Instance. The SAP CC Online agent will try to connect to the listed hosts until a connection is successfully established with one of them. Note! When Hosts is set to Default or Per Workflow in Workflow Properties, you can specify multiple hosts in the workflow table. Each host must be separated by a semi-colon. For example: host1:2000;host2:2000 . Note! If you upgrade, or import a configuration, from a version previous to MedationZone 7.2, the Host and Port settings are no longer included in the workflow table for your workflow. Instead, you must manually configure the Hosts setting in the Workflow Table tab in the Workflow Properties dialog. Connection Settings Enable Authentication Select this check box to enable charging API authentication. Note! Charging API Authentication is only available for SAP CC version 4.1 SP2 and later. User Name SAP CC user id Password The password for the SAP CC user Timeout The timeout (in milliseconds) to apply for each charging request. This value corresponds to the maximum time that SAP CC can take to execute one charging request. Enable Secured Connection Select to use TLS encrypted communication with Hosts . For more information about setting up Secured Connection, refer to SAP CC Secured Connection . Keystore Path The path to the keystore on an Execution Container host. The path must be the same for all hosts. Note! The keystore format to be used by this particular agent is PKCS12 only. Keystore Password The password of the keystore. Advanced Setting s T ab The Advanced Settings tab contains configurations rel ated to charging request behavior. Open SAP CC Online agent configuration dialog - Advanced tab Setting Description Setting Description Default charging properties Transaction Set to Return This parameter controls the content of the charging answer. Select No Transaction if no details shall be returned in the charging answer. Only the status (success or failure) and the price will be returned. Select Master Transaction if the details of the price computation shall be returned in the charging answer. It includes user defined notification that may be raised by the price plan. This applies only to the master transaction. Select All Transactions if the details of the price computation shall be returned in the charging answer. It includes user defined notifications that may be raised by the price plan. This applies only to the master and dependents transactions. Select All Transaction and Recurring if the details of the price computation shall be returned in the charging answer. It includes user defined notifications that may be raised by the price plan. This applies master transactions and dependents, but also one-shot- and recurring transactions, which may be triggered by the usage event. In Session Cleanup Transaction Set to Return This parameter controls the content of the charging answer in the case a session cleanup occurred during a charging request. The same value as for Transaction Set to Return applies here. Session Time To Live Defines the default session 'time to live' (in seconds) for the session charging request. This is the time period during which a session is considered active if no updates occurred. Default Session Resolution This parameter controls the default session termination to apply when a session has reached its 'time to live'. The session (in fact, the last reservation) could be either: Cancelled - Cancel Confirmed - Confirm Reservation Renewal Listener Listen For Reservation Renewal Events Select to listen for Reservation Renewal Events from SAP Convergent Charging. Listener Identifier Identifies the listener that the client binds to in order to receive Reservation Renewal Events. The Listener Identifier registered by an agent must be in the range of 1 to 127. If several agents use the same Listener Identifier the first agent to register will receive the events. If the first agent to register the Listener Identifier becomes unavailable, the second agent to register will receive the events. Spending Status Monitoring Listen For Spending Status Reports Select to listen for Spending Status Reports from SAP Convergent Charging. Listener Identifier Identifies the listener that the client binds to in order to receive Spending Status Reports. The Listener Identifier registered by an agent must be in the range of 1 to 127. If several agents use the same Listener Identifier the first agent to register will receive the events. If the first agent to register the Listener Identifier becomes unavailable, the second agent to register will receive the events. Default Monitoring Listener Identifier This is the default ID that will be used for the monitoring session. Default Monitoring Session TTL This is the default Time To Live value (in seconds) that will be used. Debugging Enable Debug Events Select this check box to enable debug mode. Useful for testing purposes. Response Data Convert Bigdecimal Response to String Select this check box to allow conversion of the BigDecimal data type from the SAP Convergent Charging response into string. By default, the check box is empty. Note! In terms of backwards compatibility, enabling this option prevents any compatibility issues with workflows that support the configurations from before the BigDecimal data type was introduced in version 8.0.5.0. Flow Control Tab The Flow Control tab contains configurations required to control the request flow with Con verg ent Charging Core Server. Canceled - Cancel Confirmed - Confirm Open SAP CC Online agent configuration dialog - Flow Control tab Setting Description Setting Description Enable Flow Control This parameter determines if the flow controller is activated or not on the SAP CC Stateful Service Client. Queue Properties Queue Size This parameter controls the maximum number of waiting requests to be executed by the SAP Convergent Charging core server. This is mandatory to make sure that the core server is not flooded with too many requests. Requests that cannot fit in the queue wait until the size reaches the Re-accept Request Threshold parameter explained below. The value of this parameter depends on: The total number of incoming requests that can be handled by the available SAP CC Dispatchers (refer to the description of the SAP CC STATEFUL_SERVICE_QUEUE_SIZE parameter) The number of SAP CC Stateful Service Clients connected within the different workflows. Note! Take into account that additional SAP CC Stateful Service Clients may exist in the overall landscape. Example - Setting the queue size Consider the following scenario: A SAP CC landscape can handle 30000 requests using 3 Dispatchers, each configured with a queue size set to 10000. 5 connected SAP CC Stateful Service Clients The maximum queue size for all the flow controllers should be set to a value that is lower than 30000 requests (e.g. 25000), and thus, the Queue Size for each SAP CC agent can be set to 5000 requests. In addition, the Re-accept Request Threshold value can be set to 4995. Re-accept Request Threshold This parameter defines the threshold of the queue below which waiting requests are processed again. This parameter is only relevant when some requests are waiting because the queue has reached its size. Note! It is strongly recommended to activate flow control in a production system. The SAP CC Online agent relies on the Asynchronous CC client and if no control is enabled, the agent will send as many requests as possible to the SAP Convergent Charging core server, which could lead to two unexpected behaviors: Increased latency of charging requests. An unstable server that will not be able to answer the requests. Monitoring Event Tab The Monitoring Event tab contains configurations for sending an event related to latency, for example, the number of successfully processed UDRs, erroneous UDRs, and so on. The monitoring information is sent through a CC Monitoring Event. For further information about how to set up the CC Monitoring Event, see Event Notifications . It is recommended that you do not enable these monitoring features in a p roduc tion landscape. Open SAP CC Online Agent Configuration - Monitoring Event Tab Setting Description Setting Description Enable Global Event Select to send a CC Monitoring Event when the Workflow is stopped. Enable Spot Event Select to send a CC Monitoring Event with a configured frequency, see Spot Frequency below. Spot Frequency Configure the frequency (in seconds) for how often a CC Monitoring Event shall be sent. Default frequency is 1000 second.",
      "title": "SAP CC Online Agent Configuration - MediationZone Documentation 9.3 - InfoZone",
      "url": "https://infozone.atlassian.net/wiki/spaces/MD93/pages/204609065",
      "word_count": 1479,
      "char_count": 9253
    }
  ],
  "metadata": {
    "scraped_at": "2025-06-24T04:33:34.818126",
    "word_count": 1479,
    "char_count": 9253,
    "chunk_count": 1
  }
}