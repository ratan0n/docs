{
  "id": "wiki__spaces__MD93__pages__205653302__MQTT_Example",
  "title": "MQTT Example - MediationZone Documentation 9.3 - InfoZone",
  "url": "https://infozone.atlassian.net/wiki/spaces/MD93/pages/205653302/MQTT+Example",
  "categories": [
    "space:MD93"
  ],
  "text": "This section contains one example for the MQTT agent. MQTT workflow example In the above example, the MQTT agent sends any of these 3 UDR types: Error, PublishAck or SubscribeResponse to the Analysis agent, which contains the following code: consume { debug(input); if(instanceOf(input, MQTT.SubscribeResponse)){ MQTT.SubscribeResponse resp = (MQTT.SubscribeResponse)input; MQTT.Publish pub = udrCreate(MQTT.Publish); pub.qos = 1; pub.retain = true; pub.topic = \"test/\"; pub.data = resp.data; udrRoute(pub); } } With this code, the Analysis agent will: Debugs the output of the MQTT agent. If the received UDR is of the SubscriberResponse type, the UDR will be populated into a SubscribeResponse type UDR called resp. Create a UDR of Publish type called pub. Set the qos to 1, to indicate that the message will be published with the At Least once QoS. Set retain to true. Set the topic to test/ Populate the Data with the Data field from the resp UDR. Routes the pub UDR back to the MQTT agent.",
  "chunks": [
    {
      "chunk_id": 1,
      "text": "This section contains one example for the MQTT agent. MQTT workflow example In the above example, the MQTT agent sends any of these 3 UDR types: Error, PublishAck or SubscribeResponse to the Analysis agent, which contains the following code: consume { debug(input); if(instanceOf(input, MQTT.SubscribeResponse)){ MQTT.SubscribeResponse resp = (MQTT.SubscribeResponse)input; MQTT.Publish pub = udrCreate(MQTT.Publish); pub.qos = 1; pub.retain = true; pub.topic = \"test/\"; pub.data = resp.data; udrRoute(pub); } } With this code, the Analysis agent will: Debugs the output of the MQTT agent. If the received UDR is of the SubscriberResponse type, the UDR will be populated into a SubscribeResponse type UDR called resp. Create a UDR of Publish type called pub. Set the qos to 1, to indicate that the message will be published with the At Least once QoS. Set retain to true. Set the topic to test/ Populate the Data with the Data field from the resp UDR. Routes the pub UDR back to the MQTT agent.",
      "title": "MQTT Example - MediationZone Documentation 9.3 - InfoZone",
      "url": "https://infozone.atlassian.net/wiki/spaces/MD93/pages/205653302/MQTT+Example",
      "word_count": 158,
      "char_count": 994
    }
  ],
  "metadata": {
    "scraped_at": "2025-06-24T03:58:02.400988",
    "word_count": 158,
    "char_count": 994,
    "chunk_count": 1
  }
}